<html>

<head>
    <title>Decentralized WebRTC</title>
    <link rel="icon" type="image/png" href="img/favicon.png">
    <link rel="stylesheet" href="lib/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

<video id="remoteVideo" autoplay playsinline></video>

<div class="hoverContent">
    <video id="localVideo" autoplay playsinline></video>

    <div class="hoverControls">
        <h1 id="callStatusBig">Not in an active call.</h1>
        <p>Logged in as <b><span id="username-placeholder"></span></b>.</p>
        <p>
            <button id="timerBtn" class="btn-default btn" disabled>
                <span class="glyphicon glyphicon-time"></span>
                <span id="time"></span>
            </button>
            <button id="sendFileLaunch" data-toggle="modal" data-target="#fileUploadModal" class="btn-primary btn"
                    disabled>
                <span class="glyphicon glyphicon-floppy-open"></span>
                Send file
            </button>
            <button id="hangUpBtn" class="btn-danger btn" disabled>
                <span class="glyphicon glyphicon-earphone"></span>
                Hang Up
            </button>
        </p>
    </div>
</div>

<div class="chatarea">
    <div class="chat">
        <div class="chathead" id="chathead">Chat</div>
        <div id="togglearea" style="display:none">
            <div class="feed"></div>
            <div class="messagebox">
                <input placeholder="Type a message" type="text" id="message">
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalUsers" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Call User</h4>
            </div>
            <div class="modal-body">
                <p>Here's a list of all available users. Click on one of them to start a call.</p>
                <div class="list-group" id="availableUsersList"></div>
                <p><a href="#" data-toggle="collapse" data-target="#peerListCollapse" id="peerListCollapseLaunch">Display
                    known peers</a></p>
                <div id="peerListCollapse" class="collapse">
                    <ul class="list-group" id="peerList"></ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalIncomCall" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title text-center">Incoming call from <span id="incomCallName"></span></h4>
            </div>
            <div class="modal-footer">
                <button type="button" id="respondCall" class="btn btn-success">Respond</button>
                <button type="button" id="ignoreCall" class="btn btn-danger">Ignore</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="callingModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title text-center">Calling <span id="callingName"></span>...</h4>
            </div>
            <div class="modal-body">
                <p class="text-center">
                    <span class="glyphicon glyphicon-refresh glyphicon-spin"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="fileUploadModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">File upload</h4>
            </div>
            <div class="modal-body">
                <form id="fileInfo">
                    <input type="file" id="fileInput" name="files"/>
                </form>

                <div class="progress">
                    <div class="label">Send progress:</div>
                    <progress id="sendProgress" max="0" value="0"></progress>
                </div>

                <div id="bitrate"></div>
                <a id="download"></a>
                <span id="status"></span>
            </div>
        </div>
    </div>
</div>

<script src="lib/adapter.min.js"></script>
<script src="lib/jquery-3.2.1.min.js"></script>
<script src="lib/bootstrap.min.js"></script>

<script src="js/functions.js"></script>
<script src="js/listeners.js"></script>
<script src="js/stopwatch.js"></script>
<script src="js/index.js"></script>

</body>
</html>